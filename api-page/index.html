<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Modern API Documentation and Testing Interface">
    <link rel="icon" href="/src/icon.png" type="image/png">
    <title id="page">Fukushima UI - API Documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="/styles.css">
    <style>
        /* Enhanced Hamburger Menu Animation */
        .menu-toggle {
            position: relative;
            width: 30px;
            height: 24px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .menu-toggle:focus {
            outline: none;
        }
        
        .menu-toggle i {
            display: block;
            width: 100%;
            height: 3px;
            background-color: currentColor;
            border-radius: 3px;
            transition: all 0.3s ease;
            position: absolute;
            left: 0;
        }
        
        .menu-toggle i:first-child {
            top: 0;
            transform-origin: top left;
        }
        
        .menu-toggle i:nth-child(2) {
            top: 50%;
            transform: translateY(-50%);
            opacity: 1;
        }
        
        .menu-toggle i:last-child {
            bottom: 0;
            transform-origin: bottom left;
        }
        
        /* Active state for hamburger (X shape) */
        .menu-toggle.active i:first-child {
            transform: rotate(45deg) translate(4px, -1px);
        }
        
        .menu-toggle.active i:nth-child(2) {
            opacity: 0;
        }
        
        .menu-toggle.active i:last-child {
            transform: rotate(-45deg) translate(4px, 1px);
        }
        
        /* Live Coding Section - Enhanced */
        .live-coding-section {
            margin-top: 40px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            background: #282c34;
        }
        
        .live-coding-header {
            background: #21252b;
            color: #abb2bf;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #181a1f;
        }
        
        .live-coding-title {
            font-weight: 600;
            font-size: 16px;
            font-family: 'Outfit', sans-serif;
        }
        
        .live-coding-actions {
            display: flex;
            gap: 10px;
        }
        
        .live-coding-btn {
            background: rgba(90, 93, 94, 0.3);
            border: none;
            color: #abb2bf;
            padding: 5px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: 'Outfit', sans-serif;
        }
        
        .live-coding-btn:hover {
            background: rgba(90, 93, 94, 0.5);
            color: #ffffff;
        }
        
        .code-container {
            position: relative;
        }
        
        .code-editor {
            height: 300px;
            width: 100%;
            padding: 15px;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            background: #282c34;
            color: #abb2bf;
            border: none;
            resize: vertical;
            min-height: 200px;
            tab-size: 2;
            white-space: pre;
            overflow-x: auto;
            caret-color: #528bff;
        }
        
        .code-editor:focus {
            outline: none;
        }
        
        .line-numbers {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            padding: 15px 8px;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            color: #5c6370;
            background: #21252b;
            text-align: right;
            user-select: none;
            border-right: 1px solid #181a1f;
        }
        
        .code-output {
            margin-top: 20px;
            padding: 15px;
            background: #21252b;
            color: #abb2bf;
            border-radius: 8px;
            font-family: 'Fira Code', 'Courier New', monospace;
            min-height: 100px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            border: 1px solid #181a1f;
        }
        
        .output-placeholder {
            color: #5c6370;
            font-style: italic;
        }
        
        /* Syntax highlighting colors */
        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
            color: #5c6370;
        }
        
        .token.punctuation {
            color: #abb2bf;
        }
        
        .token.property,
        .token.tag,
        .token.boolean,
        .token.number,
        .token.constant,
        .token.symbol,
        .token.deleted {
            color: #d19a66;
        }
        
        .token.selector,
        .token.attr-name,
        .token.string,
        .token.char,
        .token.builtin,
        .token.inserted {
            color: #98c379;
        }
        
        .token.operator,
        .token.entity,
        .token.url,
        .language-css .token.string,
        .style .token.string {
            color: #56b6c2;
        }
        
        .token.atrule,
        .token.attr-value,
        .token.keyword {
            color: #c678dd;
        }
        
        .token.function,
        .token.class-name {
            color: #61afef;
        }
        
        .token.regex,
        .token.important,
        .token.variable {
            color: #e06c75;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .live-coding-section {
                margin-top: 20px;
            }
            
            .code-editor {
                height: 250px;
                font-size: 13px;
            }
            
            .line-numbers {
                font-size: 13px;
            }
        }
        
        /* Tooltip for buttons */
        .tooltip {
            font-family: 'Outfit', sans-serif;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen">
        <div class="spinner-wrapper">
            <svg class="spinner-logo" width="80" height="80" viewBox="0 0 100 100">
                <circle class="spinner-path" cx="50" cy="50" r="40" fill="none" stroke-width="8" />
                <circle class="spinner-animation" cx="50" cy="50" r="40" fill="none" stroke-width="8" />
            </svg>
            <p>Loading<span class="loading-dots">...</span></p>
        </div>
    </div>

    <!-- Side Navigation -->
    <aside class="side-nav">
        <div class="side-nav-logo">
            <span id="sideNavName">API</span>
            <div id="versionHeader" class="badge-pill"></div>
        </div>

        <nav class="side-nav-links">
            <a href="#home" class="side-nav-link active">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#apis" class="side-nav-link">
                <i class="fas fa-plug"></i>
                <span>API</span>
            </a>
            <a href="#docs" class="side-nav-link">
                <i class="fas fa-book"></i>
                <span>Dokumentasi</span>
            </a>
            <a href="#live-coding" class="side-nav-link">
                <i class="fas fa-code"></i>
                <span>Live Coding</span>
            </a>
            <a href="https://github.com/ahmadxyz2" target="_blank" class="side-nav-link">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
            </a>
        </nav>

        <div class="nav-collapse-btn" aria-label="Toggle navigation">
            <i class="fas fa-angle-left"></i>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-wrapper">
        <header class="main-header">
            <button class="menu-toggle">
                <i class="fas fa-bars"></i>
                <i class="fas fa-bars"></i>
                <i class="fas fa-bars"></i>
            </button>

            <div class="search-container">
                <div class="input-group">
                    <span class="input-group-text" aria-hidden="true"><i class="fas fa-search"></i></span>
                    <input type="text" id="searchInput" class="form-control" placeholder="Search API..." aria-label="Search API">
                    <button class="clear-search" id="clearSearch" aria-label="Clear search">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div class="header-actions">
                <div class="notification-bell" aria-label="Notifications">
                    <i class="far fa-bell"></i>
                    <span class="notification-badge">2</span>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section id="home" class="hero-section">
            <div class="hero-content">
                <div class="hero-heading">
                    <h1 id="name" class="gradient-text">Fukushima UI</h1>
                    <div id="version" class="badge-pill">v1.0.0</div>
                </div>

                <p id="description" class="hero-description">Modern API Documentation and Testing Interface</p>

                <div id="apiLinks" class="hero-actions">
                    <a href="#live-coding" class="btn btn-primary">
                        <i class="fas fa-code"></i> Try Live Editor
                    </a>
                    <a href="#apis" class="btn btn-outline-secondary">
                        <i class="fas fa-plug"></i> Explore APIs
                    </a>
                </div>
            </div>

            <div class="hero-visual">
                <div class="banner-container">
                    <img id="dynamicImage" class="banner" src="/api/src/banner.jpg" alt="API Banner">
                </div>
                <div class="shape shape-1"></div>
                <div class="shape shape-2"></div>
                <div class="shape shape-3"></div>
            </div>
        </section>

        <!-- API Section -->
        <section id="apis" class="api-section">
            <h2 class="section-title">APIs Tersedia</h2>
            <p class="section-description">Jelajahi Fukushima UI Dan Dapatkan APIs Yang Keren.</p>

            <div class="tab-content" id="apiContent"></div>
        </section>

        <!-- Live Coding Section -->
        <section id="live-coding" class="live-coding-section">
            <div class="live-coding-header">
                <div class="live-coding-title">JavaScript Live Editor</div>
                <div class="live-coding-actions">
                    <button class="live-coding-btn" id="runCode" data-bs-toggle="tooltip" data-bs-placement="top" title="Run Code (Ctrl+Enter)">
                        <i class="fas fa-play"></i> Run
                    </button>
                    <button class="live-coding-btn" id="formatCode" data-bs-toggle="tooltip" data-bs-placement="top" title="Format Code">
                        <i class="fas fa-align-left"></i> Format
                    </button>
                    <button class="live-coding-btn" id="clearCode" data-bs-toggle="tooltip" data-bs-placement="top" title="Clear Output">
                        <i class="fas fa-trash"></i> Clear
                    </button>
                </div>
            </div>
            
            <div class="code-container">
                <div class="line-numbers" id="lineNumbers">1</div>
                <textarea id="codeEditor" class="code-editor" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off" inputmode="text" wrap="off" placeholder="// Write your JavaScript code here...">// Welcome to Fukushima UI Live Editor
// Try writing some code and click Run or press Ctrl+Enter

function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}

// Example API call simulation
async function getUserData(userId) {
  try {
    const response = await fetch(`https://api.example.com/users/${userId}`);
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error fetching user:', error);
    return null;
  }
}

// Example usage
console.log('Fibonacci sequence:');
for (let i = 0; i < 10; i++) {
  console.log(`fib(${i}) =`, fibonacci(i));
}

// Current date and time
console.log('Current time:', new Date().toLocaleString());

// Try adding your own code below!</textarea>
            </div>
            
            <div class="code-output" id="codeOutput">
                <div class="output-placeholder">Output will appear here after you run the code...</div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <div id="wm" class="copyright">© 2023 Fukushima UI - All Rights Reserved</div>

                <div class="footer-middle">
                    <div class="theme-switcher">
                        <span>Cerah</span>
                        <label class="switch">
                            <input type="checkbox" id="themeToggle">
                            <span class="slider round"></span>
                        </label>
                        <span>Hitam</span>
                    </div>
                </div>

                <div class="footer-links">
                    <a href="https://whatsapp.com/channel/0029VayWzSe9xVJkBl9vzG3S" class="footer-link">
                        <i class="fab fa-whatsapp"></i> Info
                    </a>
                    <a href="https://wa.me/6281527100923?text=Hai+owner+Fukushima+UI+" class="footer-link">
                        <i class="fas fa-envelope"></i> Hub Kami
                    </a>
                </div>
            </div>
        </footer>
    </main>

    <!-- API Response Modal -->
    <div class="modal fade" id="apiResponseModal" tabindex="-1" aria-labelledby="apiResponseModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" id="modalDialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div>
                        <h5 class="modal-title" id="apiResponseModalLabel"></h5>
                        <p class="modal-desc mb-0" id="apiResponseModalDesc"></p>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="endpoint-container">
                        <div class="endpoint-label">
                            <span>Endpoint</span>
                            <button class="copy-btn" id="copyEndpoint" title="Copy to clipboard" aria-label="Copy endpoint">
                                <i class="far fa-copy"></i>
                            </button>
                        </div>
                        <pre id="apiEndpoint" class="code-block"></pre>
                    </div>

                    <div id="apiQueryInputContainer" class="query-input-container"></div>

                    <div id="apiResponseLoading" class="d-none">
                        <svg class="spinner-logo" width="50" height="50" viewBox="0 0 100 100">
                            <circle class="spinner-path" cx="50" cy="50" r="40" fill="none" stroke-width="8" />
                            <circle class="spinner-animation" cx="50" cy="50" r="40" fill="none" stroke-width="8" />
                        </svg>
                        <p>Tunggu Bang...</p>
                    </div>

                    <div class="response-container d-none" id="responseContainer">
                        <div class="response-label">
                            <span>Respon</span>
                            <button class="copy-btn" id="copyResponse" title="Copy to clipboard" aria-label="Copy response">
                                <i class="far fa-copy"></i>
                            </button>
                        </div>
                        <pre id="apiResponseContent" class="code-block d-none"></pre>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="submitQueryBtn" class="btn btn-primary">
                        <span>Submit</span>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast-container">
        <div id="notificationToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i class="toast-icon fas fa-info-circle me-2"></i>
                <strong class="me-auto toast-title">Notifikasi</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Ini Adalah Notifikasi Pesan.
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.7/beautify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.7/beautify-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.7/beautify-html.min.js"></script>
    <script src="/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tooltips
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Hamburger Menu Toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const sideNav = document.querySelector('.side-nav');
            
            menuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                sideNav.classList.toggle('collapsed');
            });
            
            // Live Coding Functionality
            const runCodeBtn = document.getElementById('runCode');
            const formatCodeBtn = document.getElementById('formatCode');
            const clearCodeBtn = document.getElementById('clearCode');
            const codeEditor = document.getElementById('codeEditor');
            const codeOutput = document.getElementById('codeOutput');
            const lineNumbers = document.getElementById('lineNumbers');
            
            // Auto-closing pairs and other editor features
            codeEditor.addEventListener('keydown', function(e) {
                // Auto-closing pairs
                const openingPairs = {
                    '(': ')',
                    '[': ']',
                    '{': '}',
                    "'": "'",
                    '"': '"',
                    '`': '`'
                };
                
                const closingPairs = {
                    ')': '(',
                    ']': '[',
                    '}': '{',
                    "'": "'",
                    '"': '"',
                    '`': '`'
                };
                
                const cursorPos = this.selectionStart;
                const textBefore = this.value.substring(0, cursorPos);
                const textAfter = this.value.substring(cursorPos);
                const charBefore = textBefore[cursorPos - 1];
                const charAfter = textAfter[0];
                
                // Handle Tab key
                if (e.key === 'Tab') {
                    e.preventDefault();
                    document.execCommand('insertText', false, '  '); // Insert 2 spaces
                    return;
                }
                
                // Auto-close pairs when typing opening character
                if (openingPairs[e.key] && (!charAfter || /\s/.test(charAfter))) {
                    e.preventDefault();
                    document.execCommand('insertText', false, e.key + openingPairs[e.key]);
                    this.setSelectionRange(cursorPos + 1, cursorPos + 1);
                    return;
                }
                
                // Skip over closing character if it's already there
                if (closingPairs[e.key] && charAfter === e.key) {
                    e.preventDefault();
                    this.setSelectionRange(cursorPos + 1, cursorPos + 1);
                    return;
                }
                
                // Handle Enter key - auto-indent
                if (e.key === 'Enter') {
                    const lineStart = textBefore.lastIndexOf('\n') + 1;
                    const currentLine = textBefore.substring(lineStart);
                    const indent = currentLine.match(/^\s*/)[0];
                    
                    // Check if we're after an opening brace
                    if (currentLine.trim().endsWith('{')) {
                        e.preventDefault();
                        document.execCommand('insertText', false, '\n' + indent + '  \n' + indent + '}');
                        this.setSelectionRange(cursorPos + indent.length + 3, cursorPos + indent.length + 3);
                        return;
                    }
                    
                    // Normal enter with auto-indent
                    if (indent) {
                        e.preventDefault();
                        document.execCommand('insertText', false, '\n' + indent);
                        return;
                    }
                }
                
                // Run code with Ctrl+Enter
                if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                    e.preventDefault();
                    runCode();
                }
            });
            
            // Update line numbers
            codeEditor.addEventListener('input', updateLineNumbers);
            codeEditor.addEventListener('scroll', function() {
                lineNumbers.scrollTop = this.scrollTop;
            });
            
            function updateLineNumbers() {
                const lines = codeEditor.value.split('\n');
                let numbers = '';
                
                for (let i = 1; i <= lines.length; i++) {
                    numbers += i + '\n';
                }
                
                lineNumbers.innerHTML = numbers;
            }
            
            // Initialize line numbers
            updateLineNumbers();
            
            function runCode() {
                try {
                    // Clear previous output
                    codeOutput.innerHTML = '';
                    
                    // Capture console.log output
                    const originalConsoleLog = console.log;
                    const originalConsoleError = console.error;
                    const originalConsoleWarn = console.warn;
                    
                    const logs = [];
                    const errors = [];
                    const warnings = [];
                    
                    console.log = function() {
                        logs.push({
                            type: 'log',
                            args: Array.from(arguments)
                        });
                        originalConsoleLog.apply(console, arguments);
                    };
                    
                    console.error = function() {
                        errors.push({
                            type: 'error',
                            args: Array.from(arguments)
                        });
                        originalConsoleError.apply(console, arguments);
                    };
                    
                    console.warn = function() {
                        warnings.push({
                            type: 'warn',
                            args: Array.from(arguments)
                        });
                        originalConsoleWarn.apply(console, arguments);
                    };
                    
                    // Execute the code
                    const code = codeEditor.value;
                    const result = new Function(code)();
                    
                    // Restore original console methods
                    console.log = originalConsoleLog;
                    console.error = originalConsoleError;
                    console.warn = originalConsoleWarn;
                    
                    // Display the output
                    if (logs.length > 0 || errors.length > 0 || warnings.length > 0) {
                        [...logs, ...warnings, ...errors].forEach(item => {
                            const logElement = document.createElement('div');
                            logElement.style.marginBottom = '8px';
                            
                            // Add icon based on log type
                            const icon = document.createElement('i');
                            icon.style.marginRight = '8px';
                            
                            if (item.type === 'log') {
                                icon.className = 'fas fa-info-circle';
                                icon.style.color = '#61afef';
                            } else if (item.type === 'warn') {
                                icon.className = 'fas fa-exclamation-triangle';
                                icon.style.color = '#e5c07b';
                            } else if (item.type === 'error') {
                                icon.className = 'fas fa-times-circle';
                                icon.style.color = '#e06c75';
                            }
                            
                            logElement.appendChild(icon);
                            
                            // Format each argument
                            item.args.forEach(arg => {
                                const argElement = document.createElement('span');
                                
                                if (typeof arg === 'object' && arg !== null) {
                                    argElement.textContent = JSON.stringify(arg, null, 2);
                                    argElement.style.whiteSpace = 'pre';
                                } else {
                                    argElement.textContent = String(arg);
                                }
                                
                                if (item.type === 'error') {
                                    argElement.style.color = '#e06c75';
                                } else if (item.type === 'warn') {
                                    argElement.style.color = '#e5c07b';
                                } else {
                                    argElement.style.color = '#abb2bf';
                                }
                                
                                logElement.appendChild(argElement);
                                logElement.appendChild(document.createElement('br'));
                            });
                            
                            codeOutput.appendChild(logElement);
                        });
                    } else if (result !== undefined) {
                        const resultElement = document.createElement('div');
                        resultElement.style.display = 'flex';
                        resultElement.style.alignItems = 'flex-start';
                        
                        const icon = document.createElement('i');
                        icon.className = 'fas fa-chevron-right';
                        icon.style.color = '#98c379';
                        icon.style.marginRight = '8px';
                        icon.style.marginTop = '3px';
                        
                        resultElement.appendChild(icon);
                        
                        const resultContent = document.createElement('span');
                        
                        if (typeof result === 'object' && result !== null) {
                            resultContent.textContent = JSON.stringify(result, null, 2);
                            resultContent.style.whiteSpace = 'pre';
                        } else {
                            resultContent.textContent = String(result);
                        }
                        
                        resultContent.style.color = '#abb2bf';
                        resultElement.appendChild(resultContent);
                        
                        codeOutput.appendChild(resultElement);
                    } else {
                        const noOutputElement = document.createElement('div');
                        noOutputElement.style.display = 'flex';
                        noOutputElement.style.alignItems = 'center';
                        noOutputElement.style.gap = '8px';
                        noOutputElement.style.color = '#5c6370';
                        noOutputElement.style.fontStyle = 'italic';
                        
                        const icon = document.createElement('i');
                        icon.className = 'fas fa-info-circle';
                        
                        noOutputElement.appendChild(icon);
                        noOutputElement.appendChild(document.createTextNode('Code executed successfully (no output)'));
                        
                        codeOutput.appendChild(noOutputElement);
                    }
                } catch (error) {
                    const errorElement = document.createElement('div');
                    errorElement.style.display = 'flex';
                    errorElement.style.alignItems = 'flex-start';
                    errorElement.style.marginBottom = '8px';
                    
                    const icon = document.createElement('i');
                    icon.className = 'fas fa-times-circle';
                    icon.style.color = '#e06c75';
                    icon.style.marginRight = '8px';
                    icon.style.marginTop = '3px';
                    
                    errorElement.appendChild(icon);
                    
                    const errorContent = document.createElement('span');
                    errorContent.textContent = error.message;
                    errorContent.style.color = '#e06c75';
                    errorContent.style.whiteSpace = 'pre-wrap';
                    
                    errorElement.appendChild(errorContent);
                    codeOutput.appendChild(errorElement);
                }
            }
            
            function formatCode() {
                try {
                    const formattedCode = js_beautify(codeEditor.value, {
                        indent_size: 2,
                        indent_char: ' ',
                        max_preserve_newlines: 2,
                        preserve_newlines: true,
                        keep_array_indentation: false,
                        break_chained_methods: false,
                        indent_scripts: 'normal',
                        brace_style: 'collapse,preserve-inline',
                        space_before_conditional: true,
                        unescape_strings: false,
                        jslint_happy: false,
                        end_with_newline: false,
                        wrap_line_length: 0,
                        indent_inner_html: false,
                        comma_first: false,
                        e4x: false,
                        indent_empty_lines: false
                    });
                    
                    codeEditor.value = formattedCode;
                    updateLineNumbers();
                    
                    // Show success notification
                    showNotification('Code formatted successfully!', 'success');
                } catch (error) {
                    showNotification('Error formatting code: ' + error.message, 'error');
                }
            }
            
            runCodeBtn.addEventListener('click', runCode);
            formatCodeBtn.addEventListener('click', formatCode);
            clearCodeBtn.addEventListener('click', function() {
                codeOutput.innerHTML = '<div class="output-placeholder">Output will appear here after you run the code...</div>';
            });
            
            // Theme switcher
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.addEventListener('change', function() {
                document.body.classList.toggle('dark-theme', this.checked);
            });
            
            // Notification function
            function showNotification(message, type = 'info') {
                const toast = document.getElementById('notificationToast');
                const toastBody = toast.querySelector('.toast-body');
                const toastIcon = toast.querySelector('.toast-icon');
                
                toastBody.textContent = message;
                
                // Set icon and color based on type
                if (type === 'success') {
                    toastIcon.className = 'fas fa-check-circle me-2';
                    toastIcon.style.color = '#28a745';
                } else if (type === 'error') {
                    toastIcon.className = 'fas fa-times-circle me-2';
                    toastIcon.style.color = '#dc3545';
                } else if (type === 'warning') {
                    toastIcon.className = 'fas fa-exclamation-triangle me-2';
                    toastIcon.style.color = '#ffc107';
                } else {
                    toastIcon.className = 'fas fa-info-circle me-2';
                    toastIcon.style.color = '#17a2b8';
                }
                
                const bsToast = new bootstrap.Toast(toast);
                bsToast.show();
            }
        });
    </script>
</body>
</html>